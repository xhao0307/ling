「城市灵境」AI AR 街景探索平台
单人开发者版技术与产品规划（Cursor 开发）
一、项目定位（单人版）
产品名：城市灵境（City Ling）
核心：单人用 Cursor 开发的 MVP 级 AI+AR 儿童城市探索 App
目标：3 个月内完成可上线的最小闭环，验证 “扫描物体 → 生成灵 → 知识问答 → 收服” 核心体验
二、核心功能（MVP 版）
AR 取景器：调用手机摄像头，实时显示画面，叠加 “灵” 的 3D/2D 形象
物体识别：用视觉模型识别常见城市物体（井盖、邮筒、树、路牌等）
灵生成：根据物体类型和孩子年龄，生成拟人化 “灵” 的名字、性格、对话和问题
知识问答：“灵” 提出 1–2 个知识点问题，答对则 “收服”，存入图鉴
今日简报：自动汇总当天收服的 “灵” 和知识点，生成图文简报发给家长
离线缓存：在弱网环境下缓存识别结果和对话，保证体验连续性
三、技术栈（单人开发友好）
1. 客户端（移动端）
框架：Flutter（跨平台，一次开发，iOS/Android 双端）
AR 能力：
ARCore（Android）/ ARKit（iOS）：空间定位、平面检测、虚拟物体锚定
或用 flutter_unity_widget 嵌入轻量 Unity 场景做 AR 渲染
摄像头与视觉：
camera 包：实时获取摄像头帧
tflite_flutter：在端侧跑轻量化视觉模型（YOLOv8n/CLIP 量化版），降低延迟
UI：极简设计，只保留：
取景器 + 识别框
“灵” 的对话气泡
收服按钮 + 图鉴入口
2. 服务端（轻量后端）
语言：Go（编译快、部署简单，适合单人维护）
API 框架：Gin（轻量、文档完善）
存储：
SQLite（本地开发 / 测试）→ PostgreSQL（上线后）
Redis（缓存会话、识别结果、热点 “灵” 数据）
部署：
初期：Render / Railway / 阿里云轻量应用服务器（按使用付费，无需复杂运维）
后期：Docker + 容器服务
3. AI 引擎（用Google adk）
用可视化工作流串联：视觉识别 → 知识检索 → 对话生成 → 剧情扩展
视觉模型：
端侧：YOLOv8n（物体检测）+ CLIP（细分类别 / 属性）
云端：可选接入火山引擎视觉服务，提升复杂场景识别准确率
大模型：
开发期：豆包大模型 / GPT-4o-mini（成本可控，生成 “灵” 的对话和问题）
上线后：按 Token 计费，优先用本地微调小模型（如 Qwen-7B）做知识问答
知识图谱：
初期：用 JSON/CSV 结构化城市物体知识点（如 “井盖”“邮筒”“红绿灯”）
后期：接入向量数据库（Chroma / Pinecone）做知识检索
4. 第三方服务
地图与定位：高德地图 SDK（免费额度足够 MVP 阶段）
语音：火山引擎 TTS/ASR（免费额度充足，支持多音色）
推送：极光推送 / 微信公众号模板消息（给家长发 “今日简报”）